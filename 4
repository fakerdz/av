local Player = game.Players.LocalPlayer
local UIS = game:GetService("UserInputService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

-- Giả sử đối tượng bạn muốn nhấn có ClickDetector
local chest = Workspace:FindFirstChild("CrystalChest")  -- Thay bằng tên chính xác của đối tượng nếu cần
local clickDetector = chest and chest:FindFirstChildOfClass("ClickDetector")

if clickDetector then
    -- Bước 1: Tự động nhấp vào Crystal Chest để mở bảng tùy chọn
    fireclickdetector(clickDetector)
    print("Đã nhấp vào Crystal Chest.")
    
    -- Bước 2: Đợi bảng tùy chọn hiện ra, sau đó chọn "Unlock 10"
    wait(1)  -- Đợi 1 giây để bảng hiện ra, có thể cần điều chỉnh thời gian chờ

    -- Sử dụng sự kiện để giả lập nhấn phím "E" để chọn "Unlock 10"
    UIS.InputBegan:Connect(function(input)
        if input.KeyCode == Enum.KeyCode.E then
            local unlockOption = ReplicatedStorage:FindFirstChild("LootChest_Unlock")
            if unlockOption then
                unlockOption:InvokeServer("CrystalChest", 10)  -- Gửi lệnh mở "CrystalChest" với số lượng là 10
                print("Đã chọn Unlock 10.")
            else
                print("Không tìm thấy RemoteFunction để mở Unlock 10.")
            end
        end
    end)
else
    print("Không tìm thấy Crystal Chest hoặc ClickDetector.")
end
